package selenium;

import java.util.List;
import java.util.concurrent.TimeUnit;

import org.openqa.selenium.By;
import org.openqa.selenium.WebDriver;
import org.openqa.selenium.WebElement;
import org.openqa.selenium.chrome.ChromeDriver;

public class test {

	public static void main(String[] args) {
	    // TODO Auto-generated method stub. 

		System.setProperty("webdriver.chrome.driver", "C:\\Selenium\\chromedriver.exe");
	WebDriver driver = new ChromeDriver();
	driver.manage().timeouts().implicitlyWait(20, TimeUnit.SECONDS);
	driver.manage().window().maximize();

	driver.get("https://webmail.dopeidea.co.za/");

	// gmail login
	driver.findElement(By.id("user")).sendKeys("admin@dopeidea.co.za");
//	driver.findElement(By.id("next")).click();
	driver.findElement(By.id("pass")).sendKeys("mail.dopeidea.co.za");
	driver.findElement(By.id("login_submit")).click();

	// some optional actions for reaching gmail inbox
//	driver.findElement(By.xpath("//*[@title='Google apps']")).click();
//	driver.findElement(By.id("gb23")).click();

	// now talking un-read email form inbox into a list
	List<WebElement> unreademeil = driver.findElements(By.xpath("//*[@id=\"rcmliSU5CT1g\"]/a"));

	// Mailer name for which i want to check do i have an email in my inbox 
	String MyMailer = "mashudu Perseverance Ndou";

	// real logic starts here
	for(int i=0;i<unreademeil.size();i++){
	    if(unreademeil.get(i).isDisplayed()==true){
	        // now verify if you have got mail form a specific mailer (Note Un-read mails)
	        // for read mails xpath loactor will change but logic will remain same
	        if(unreademeil.get(i).getText().equals(MyMailer)){
	            System.out.println("Yes we have got mail form " + MyMailer);
	            // also you can perform more actions here 
	            // like if you want to open email form the mailer
	            break;
	        }else{
	            System.out.println("No mail form " + MyMailer);
	        }
	    }
	}
	}
}